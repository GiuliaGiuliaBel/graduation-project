!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelector(".hidden-large"),t=document.querySelector(".hidden-small"),n=document.querySelector(".popup-menu"),o=document.querySelector(".top-menu"),l=document.querySelector(".fixed-gift"),s=document.querySelector(".close-menu-btn");if(document.documentElement.clientWidth<768){t.style.display="none",e.style.display="block";try{l.style.right="52px"}catch{}}window.addEventListener("resize",()=>{document.documentElement.clientWidth<768?(t.style.display="none",e.style.display="block"):(e.style.display="none",t.style.display="flex")}),window.addEventListener("scroll",()=>{if(document.documentElement.clientWidth<768&&document.documentElement.scrollTop>o.scrollTop){o.style.position="fixed",o.style.top="0px";try{l.style.right="52px"}catch{}}else o.style.position=""}),e.addEventListener("click",e=>{n.style.display="flex",console.log(e.target)}),s.addEventListener("click",()=>{n.style.display="none"}),n.addEventListener("click",e=>{"A"===e.target.tagName&&(n.style.display="none")})};var l=()=>{const e=document.getElementById("totop"),t=document.querySelector(".head-slider");e.style.display="none",document.addEventListener("scroll",()=>{window.pageYOffset>t.scrollHeight?e.style.display="block":window.pageYOffset<t.scrollHeight&&(e.style.display="none")})};var s=()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide");let n,o=0;const l=document.createElement("ul");l.classList.add("slider-dots"),e.appendChild(l);(()=>{for(let e=0;e<t.length;e++){const t=document.createElement("li"),n=document.createElement("button");0===e&&t.classList.add("slick-active"),t.append(n),l.append(t)}})();let s=l.getElementsByTagName("li");const i=(e,t,n)=>{e[t].classList.remove(n)},r=(e,t,n)=>{e[t].classList.add(n)},a=()=>{i(t,o,"slide-active"),i(s,o,"slick-active"),o++,o>=t.length&&(o=0),r(t,o,"slide-active"),r(s,o,"slick-active")},d=(e,t,n)=>{const o=document.createElement("div"),l=document.createElement("span"),s=document.querySelector(".gallery-slider");return l.style.backgroundImage=`url(./images/arrow-${n}.png)`,l.style.backgroundRepeat="no-repeat",l.style.backgroundPosition="center",o.classList.add(e),o.classList.add(t),s.appendChild(o),o.appendChild(l),o};d("slider-arrow","prev","left"),d("slider-arrow","next","right");const c=(e=5e3)=>{n=setInterval(a,e)};e.addEventListener("click",e=>{e.preventDefault(),i(t,o,"slide-active"),i(s,o,"slick-active");let n=e.target;if(n.parentNode.matches(".next"))o++;else if(n.parentNode.matches(".prev"))o--;else if(n.parentNode.matches("li")){Array.from(s).forEach((e,t)=>{e===n.parentNode&&(o=t)})}o>=t.length&&(o=0),o<0&&(o=t.length-1),r(t,o,"slide-active"),r(s,o,"slick-active")}),e.addEventListener("mouseover",e=>{(e.target.parentNode.matches(".prev")||e.target.parentNode.matches(".next")||e.target.parentNode.matches("li"))&&clearInterval(n)}),e.addEventListener("mouseout",e=>{(e.target.parentNode.matches(".prev")||e.target.parentNode.matches(".next")||e.target.parentNode.matches("li"))&&c(3e3)}),c(3e3)};var i=(e="+7 (___) ___-__-__")=>{const t=document.querySelectorAll('input[name="phone"]');function n(t){const n=t.keyCode,o=e,l=o.replace(/\D/g,""),s=this.value.replace(/\D/g,"");let i=0,r=o.replace(/[_\d]/g,(function(e){return i<s.length?s.charAt(i++)||l.charAt(i):e}));i=r.indexOf("_"),-1!=i&&(r=r.slice(0,i));let a=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=r),"blur"==t.type&&this.value.length<5&&(this.value="")}for(const e of t)e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)};var r=()=>{const e=document.querySelector(".main-slider").querySelectorAll(".slide");let t=0;setInterval(()=>{e[t].style.display="none",t++,t>=e.length&&(t=0),e[t].style.display="flex"},3e3)};var a=()=>{const e=document.getElementById("callback_form"),t=document.getElementById("free_visit_form"),n=document.getElementById("gift"),o=document.querySelector(".fixed-gift"),l=document.querySelector(".clubs-list>ul"),s=document.getElementById("thanks");document.addEventListener("click",i=>{(i.target.matches(".callback-btn")||i.target.matches(".close_icon"))&&(e.style.display="block"),(i.target.matches(".overlay")||i.target.matches(".close_icon"))&&(e.style.display="none",t.style.display="none"),i.target.matches(".open-popup")&&(t.style.display="block"),i.target.closest(".clubs-list")?l.style.display&&"none"!==l.style.display?l.style.display="none":l.style.display="block":l.style.display="none";try{i.target.matches(".fixed-gift img")&&(n.style.display="block",o.style.display="none"),(i.target.matches(".overlay")||i.target.matches(".close_icon")||i.target.matches(".close-btn"))&&(n.style.display="none"),(i.target.matches(".overlay")||i.target.matches(".close-btn")||i.target.matches(".close_icon"))&&(s.style.display="none",e.style.display="none")}catch{}})};var d=()=>{document.querySelectorAll("form").forEach(e=>{const t=e.querySelector('input[type="checkbox"]'),n=e.querySelector("button"),o=e.querySelectorAll('input[type="radio"]');n.disabled=!0;let l=!1,s=document.createElement("div");e.addEventListener("input",()=>{(()=>{let o=[],l=0,i=Array.from(e.querySelectorAll('input[name="name"]')),r=Array.from(e.querySelectorAll('input[name="phone"]'));o.push(i),o.push(r),o=i.concat(r),o.forEach(i=>{if(""!==i.value&&(l+=1,t)){if(l===o.length&&!t.checked)return s.textContent="необходимо ваше согласие на обработку данных",e.querySelector(".personal-data").append(s),l=0,!0;l===o.length||t.checked||(n.disabled=!0)}})})()}),o.forEach(e=>{e.addEventListener("change",()=>{e.checked&&!0===l?n.disabled=!1:l=!0})}),e.querySelector('input[name="phone"]').addEventListener("input",e=>{""!==e.target.value&&!0===l?n.disabled=!1:l=!0}),t&&t.addEventListener("change",()=>{t.checked&&""!==s.textContent&&(s.textContent=""),t.checked?t.checked&&(n.disabled=!1):n.disabled=!0})})};var c=()=>{document.querySelectorAll('input[name="name"]').forEach(e=>{e.addEventListener("input",e=>{let t=e.target;t.value=t.value.replace(/[^а-я0-9]/gi,"")})})};var u=()=>{if("mozaika"===document.querySelector("html").id||"schelkovo"===document.querySelector("html").id);else{const e=document.getElementById("price-total"),t=document.querySelector(".price-message > input"),n=.7,o=document.querySelectorAll("form"),l={mozaika:{m1:1999,m2:9900,m3:13900,m4:9900,m5:19900},schelkovo:{m1:2999,m2:14990,m3:21990,m4:14990,m5:24990}};let s,i,r;const a=t=>{e.textContent=Math.floor(t)},d=(e="mozaika",t="m1")=>{for(let n in l){n=e;for(let e in l[n])e===t&&(r=Math.floor(l[n][e]),a(r))}};o.forEach(e=>{e.addEventListener("change",e=>{"card-type"===e.target.name&&(s=e.target.id),"club-name"===e.target.name&&(i=e.target.value),d(i,s),"ТЕЛО2020"===t.value&&(r*=n,a(r))})}),d()}};var p=e=>18!==e[0].value.length;var m=()=>{document.querySelectorAll("form").forEach(e=>{const t=e.querySelector("button");e.addEventListener("submit",n=>{n.preventDefault();const o=new FormData(e);"footer_form"===e.id&&(document.getElementById("callback_form").style.display="none",t.disabled=!0);const l=[...n.target.elements].filter(e=>"phone"===e.name),s=e.querySelector('input[type="checkbox"]');if(p(l))return void alert("Некорректно введен номер");let i={};o.forEach((e,t)=>{i[t]=e});(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(i).then(n=>{if(200!==n.status)throw"error";document.getElementById("thanks").style.display="inline",setTimeout(()=>{document.querySelectorAll(".popup").forEach(e=>{e.style.display="none"})},3e3),e.reset(),t.disabled=!0,s&&(s.checked=!1)}).catch(()=>{document.getElementById("thanks").querySelector("p").textContent="Данные не удалось отправить на сервер",document.getElementById("thanks").querySelector("h4").textContent="Произошла ошибка",setTimeout(()=>{document.querySelectorAll(".popup").forEach(e=>{e.style.display="none"})},3e3),e.reset(),t.disabled=!0,s&&(s.checked=!1)})})})};o(),l(),i("+7 (___) ___-__-__"),c(),d(),s(),r(),u("mozaika"),u("schelkovo"),a(),m(),new class{constructor({main:e,wrap:t,next:n,prev:o,infinity:l=!1,position:s=0,slidesToShow:i=5}){this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(n),this.prev=document.querySelector(o),this.slidesToShow=i,this.options={position:s,infinity:l,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow}}init(){this.addClass(),this.addStyle(),this.addArrow(),this.controlSlider()}addClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){const e=document.createElement("style");e.id="sliderCarousel-style",e.textContent=`\n            .glo-slider__wrap {\n                display: flex;\n                transition: transform 0.5s;\n                will-change: transform;       \n            }\n            .glo-slider__item{\n                flex: 0 0 ${this.options.widthSlide}%;\n            }`,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){const e=(e,t,n)=>{const o=document.createElement("div"),l=document.createElement("span");return l.style.backgroundImage=`url(./images/arrow-${n}.png)`,l.style.backgroundRepeat="no-repeat",l.style.backgroundPosition="center",o.classList.add(e),o.classList.add(t),this.wrap.parentNode.appendChild(o),o.appendChild(l)};this.prev=e("slider-arrow","prev","left"),this.next=e("slider-arrow","next","right")}}({main:"#services .wrapper",wrap:".services-slider",infinity:!0}).init()}]);